import{y as e}from"../../_/8ddf35de.js";export{y as default}from"../../_/8ddf35de.js";e.once=function(e,r){return new Promise(((t,n)=>{function eventListener(...r){void 0!==o&&e.removeListener("error",o);t(r)}let o;if("error"!==r){o=r=>{e.removeListener(name,eventListener);n(r)};e.once("error",o)}e.once(r,eventListener)}))};e.on=function(e,r){const t=[];const n=[];let o=null;let s=false;const i={async next(){const e=t.shift();if(e)return createIterResult(e,false);if(o){const e=Promise.reject(o);o=null;return e}return s?createIterResult(void 0,true):new Promise(((e,r)=>n.push({resolve:e,reject:r})))},async return(){e.removeListener(r,eventHandler);e.removeListener("error",errorHandler);s=true;for(const e of n)e.resolve(createIterResult(void 0,true));return createIterResult(void 0,true)},throw(t){o=t;e.removeListener(r,eventHandler);e.removeListener("error",errorHandler)},[Symbol.asyncIterator](){return this}};e.on(r,eventHandler);e.on("error",errorHandler);return i;function eventHandler(...e){const r=n.shift();r?r.resolve(createIterResult(e,false)):t.push(e)}function errorHandler(e){s=true;const r=n.shift();r?r.reject(e):o=e;i.return()}};const{EventEmitter:r,defaultMaxListeners:t,init:n,listenerCount:o,on:s,once:i}=e;export{r as EventEmitter,t as defaultMaxListeners,n as init,o as listenerCount,s as on,i as once};

