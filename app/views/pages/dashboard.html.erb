<br>
<div class="text-center">
  <h2><strong><span class="main-title">MY</span><span class="accent-title">DASHBOARD</span></strong></h2>
</div>
<br>
<div class="row mx-2 my-4">
  <div class="col-12">
    <div class="h-100 p-4 bg-white rounded-4 shadow-lg">
      <h3>My<strong>Progress</strong></h3>
      <div class="progress" role="progressbar" aria-label="Example 20px high" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" style="height: 40px">
      <div class="progress-bar progress-bar-striped bg-warning" style="width: 25%">25%</div>
    </div>
    </div>
  </div>
</div>

<div class="row mx-2 my-4">
  <div class="col-7">
    <div class="h-100 p-4 bg-white rounded-4 shadow-lg">
      <h3 class="text-center">My<strong>Trips</strong></h3>
      <% @trips.each do |trip| %>
        <div class="trip d-flex border bg-my-white p-4 m-2 rounded-4 justify-content-between">
          <div class="d-flex flex-grow-1 justify-content-between align-items-center">
            <div class="">
              <p class="fs-3 my-1">
                <%= trip.name %>
              </p>
              <p class="my-1">
                <%= trip.date %>
              </p>
              <div class="my-2">
                <% if trip.reward_point * 50 > 200 %>
                  <div class="position-absolute badge bg-warning rounded-pill fs-6 p-2" style="height: fit-content;">
                    <%= trip.reward_point * 50 %>
                    <i class="fa-solid fa-gem" style="margin: 2px;"></i>
                  </div>
                <% else %>
                  <div class="position-absolute badge bg-primary rounded-pill fs-6 p-2" style="height: fit-content;">
                    <%= trip.reward_point * 50 %>
                    <i class="fa-solid fa-coins" style="margin: 2px;"></i>
                  </div>
                <% end %>
              </div>
            </div>
            <% if trip.photo.present? %>
              <%= cl_image_tag trip.photo.key,
                  width: '200px',
                  class: "rounded-4";
              %>
            <% else %>
              <%=%>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
  <div class="col-5">
    <div class="position-relative p-4 bg-white rounded-4 shadow-lg">
      <h3 class="text-center">tQ<strong>Leaderboard</strong></h3>
      <% @users.first(3).each do |user| %>
        <%= render partial: "leaderboard", locals: { user: user } %>
      <% end %>
    </div>
  </div>
</div>

<div class="row mx-2 my-4">
  <div class="col-7">
    <div class="h-100 p-4 bg-white rounded-4 shadow-lg">
      <h3 class="text-center">My<strong>Cars</strong></h3>
        <% @cars.each do |car| %>
          <%= link_to account_path(:id) do %>
            <div class="position-relative d-flex border bg-my-white p-4 m-2 rounded-4 justify-content-between">
              <% if car.photo.present? %>
                <%= cl_image_tag car.photo.key, height: 100,
                      width: 100, crop: :fill, class: "rounded-4"
                      # class: "avatar"
                %>
              <% else %>
                <%= image_tag "car.jpg", style: 'object-fit: cover;',
                      width: '100%',
                      class: "rounded-4";
                  %>
              <% end %>
              <% if car.total_car_reward * 50 > 1000 %>
                <div class="position-absolute badge bg-warning rounded-pill fs-6 m-2 p-2" style="height: fit-content;">
                  <%= car.total_car_reward * 50 %>
                  <i class="fa-solid fa-gem" style="margin: 2px;"></i>
                </div>
              <% else %>
                <div class="position-absolute badge bg-primary rounded-pill fs-6 m-2 p-2" style="height: fit-content;">
                  <%= car.total_car_reward * 50 %>
                  <i class="fa-solid fa-coins" style="margin: 2px;"></i>
                </div>
              <% end %>
            </div>
            <%# <%= pie_chart(
              [[car.vehicle, car.total_car_reward],
              ["Remaining", (@next_level - car.total_car_reward)]],
              # suffix: "%",
              colors: ["#fba834", "#280274"],
              donut: true )
            %>
          <% end %>
        <% end %>
    </div>
  </div>

  <div class="col-5">
  </div>
</div>
